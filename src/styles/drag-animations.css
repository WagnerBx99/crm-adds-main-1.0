/* üéØ Anima√ß√µes Ultra-Suaves para Drag & Drop - VERS√ÉO MINIMALISTA */

/* Configura√ß√£o base para performance - SEM DELAYS */
.kanban-card {
  will-change: transform;
  /* Transi√ß√µes apenas para hover - N√ÉO para drag/drop */
  transform-origin: center;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* IMPORTANTE: Desabilitar TODAS as transi√ß√µes durante e ap√≥s drag */
.kanban-card[data-rbd-drag-handle-draggable-id] {
  transition: none !important;
  animation: none !important;
}

/* SOLTURA INSTANT√ÇNEA - M√ÅXIMA PRIORIDADE */
.kanban-card[data-rbd-drag-handle-draggable-id],
.kanban-card[data-rbd-dragging],
.kanban-card[style*="transform"],
.kanban-card[data-react-beautiful-dnd-drag-handle] {
  transition: none !important;
  animation: none !important;
  transition-delay: 0s !important;
  animation-delay: 0s !important;
}

/* Estado de hover MUITO sutil - APENAS quando n√£o est√° em drag */
.kanban-card:hover:not([data-rbd-drag-handle-draggable-id]) {
  transform: translateY(-1px) scale(1.01);
  box-shadow: 0 4px 12px -3px rgba(0, 0, 0, 0.08),
              0 2px 4px -2px rgba(0, 0, 0, 0.05);
  transition: transform 150ms cubic-bezier(0.2, 0, 0, 1),
              box-shadow 150ms cubic-bezier(0.2, 0, 0, 1);
}

/* Card sendo arrastado */
.kanban-card--dragging {
  opacity: 0.7;
  transform: rotate(5deg) scale(1.05);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25),
              0 12px 20px -8px rgba(0, 0, 0, 0.15);
  z-index: 9999;
  transition: none; /* Remove transi√ß√£o durante drag */
  cursor: grabbing !important;
  border: 2px solid rgb(59, 130, 246);
}

/* Ghost placeholder */
.kanban-card--placeholder {
  opacity: 0.3;
  background: linear-gradient(135deg, 
    rgba(59, 130, 246, 0.1) 0%,
    rgba(147, 197, 253, 0.1) 100%);
  border: 2px dashed rgb(59, 130, 246);
  transform: scale(0.98);
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Coluna destacada durante drag over - MINIMALISTA */
.kanban-column--drag-over {
  background: linear-gradient(135deg, 
    rgba(59, 130, 246, 0.02) 0%,
    rgba(147, 197, 253, 0.02) 100%);
  border: 1px solid rgba(59, 130, 246, 0.2);
  transform: scale(1.005);
  transition: all 200ms cubic-bezier(0.2, 0, 0, 1);
  box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.1);
}

/* Cabe√ßalho da coluna durante drag over */
.kanban-column--drag-over .kanban-column__header {
  background: rgba(59, 130, 246, 0.05);
  border-radius: 8px;
  transition: background 200ms cubic-bezier(0.2, 0, 0, 1);
}

/* Smooth scroll durante drag */
.kanban-board--dragging {
  scroll-behavior: auto;
}

.kanban-board--dragging .kanban-column {
  pointer-events: auto;
}

/* Anima√ß√£o de entrada para novos cards - ULTRA SUTIL */
.kanban-card--entering {
  animation: cardEnterMinimal 200ms cubic-bezier(0.2, 0, 0, 1);
}

@keyframes cardEnterMinimal {
  0% {
    opacity: 0;
    transform: translateY(-4px) scale(0.99);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Indicador de drop zone */
.drop-zone-indicator {
  height: 4px;
  background: linear-gradient(90deg, 
    transparent 0%,
    rgb(59, 130, 246) 20%,
    rgb(59, 130, 246) 80%,
    transparent 100%);
  border-radius: 2px;
  margin: 4px 0;
  opacity: 0;
  transform: scaleX(0);
  transform-origin: center;
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.drop-zone-indicator--active {
  opacity: 1;
  transform: scaleX(1);
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scaleX(1);
  }
  50% {
    opacity: 0.7;
    transform: scaleX(0.95);
  }
}

/* Otimiza√ß√µes para mobile */
@media (max-width: 768px) {
  .kanban-card:hover:not([data-rbd-drag-handle-draggable-id]) {
    transform: translateY(-0.5px) scale(1.005);
    transition-duration: 100ms;
  }
  
  .kanban-column--drag-over {
    transform: scale(1.002);
  }
}

/* Melhorias para acessibilidade */
@media (prefers-reduced-motion: reduce) {
  .kanban-card,
  .kanban-column--drag-over {
    transition: none !important;
    animation: none !important;
  }
  
  .kanban-card:hover {
    transform: none !important;
  }
}

/* Auto-scroll indicators */
.auto-scroll-indicator {
  position: absolute;
  width: 100%;
  height: 40px;
  background: linear-gradient(to bottom, 
    rgba(59, 130, 246, 0.1) 0%,
    transparent 100%);
  pointer-events: none;
  opacity: 0;
  transition: opacity 200ms ease-out;
  z-index: 10;
}

.auto-scroll-indicator--top {
  top: 0;
  background: linear-gradient(to bottom, 
    rgba(59, 130, 246, 0.1) 0%,
    transparent 100%);
}

.auto-scroll-indicator--bottom {
  bottom: 0;
  background: linear-gradient(to top, 
    rgba(59, 130, 246, 0.1) 0%,
    transparent 100%);
}

.auto-scroll-indicator--active {
  opacity: 1;
}

/* Performance optimizations */
.kanban-board {
  contain: layout style paint;
}

.kanban-column {
  contain: layout style;
}

.kanban-card {
  contain: layout style paint;
}

/* GPU acceleration for smooth animations */
.kanban-card,
.kanban-column {
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
}

/* Card overlay INSTANT√ÇNEO */
.kanban-card-drag-overlay-instantaneous {
  will-change: transform;
  pointer-events: none;
  z-index: 9999;
  /* SEM anima√ß√£o de aparecimento para ser instant√¢neo */
  transition: none !important;
  animation: none !important;
}

/* Drop zone indicators ultra-precisos */
.drop-zone-indicator {
  will-change: transform, opacity;
  transition: all 150ms cubic-bezier(0.2, 0, 0, 1);
}

/* OVERRIDE GLOBAL - Garante que cards nunca tenham delay */
[data-rbd-drag-handle-draggable-id] * {
  transition: none !important;
  animation: none !important;
} 

/* FIX CR√çTICO: For√ßar overflow-y visible para permitir drag-and-drop */
.overflow-x-auto.overflow-y-visible,
.overflow-x-auto.overflow-y-hidden {
  overflow-y: visible !important;
}

/* Garantir que o container de scroll horizontal n√£o bloqueie o drag */
[style*="WebkitOverflowScrolling"] {
  overflow-y: visible !important;
}

/* Garantir que o item sendo arrastado esteja acima de tudo */
[data-rbd-draggable-context-id] {
  z-index: 9999 !important;
}

[data-rbd-drag-handle-draggable-id] {
  z-index: 9999 !important;
}

/* Remover TODAS as transi√ß√µes durante drag */
[data-rbd-draggable-id] {
  transition: none !important;
}
